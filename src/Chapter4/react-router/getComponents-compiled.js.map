{"version":3,"sources":["getComponents.js"],"names":[],"mappings":";AACA,SAAS,qBAAT,CAA+B,QAA/B,EAAwC,KAAxC,EAA8C,EAA9C,EAAiD;AAC7C,QAAG,MAAM,YAAT,EAAsB;AAClB,cAAM,YAAN,CAAmB,QAAnB,EAA4B,EAA5B;AACH,KAFD,MAGI;AACA,WAAG,IAAH,EAAQ,IAAR;AACH;AACJ;;AAED,SAAS,aAAT,CAAuB,SAAvB,EAAkC,QAAlC,EAA4C;AACxC,aAAS,UAAU,MAAnB,EAA2B,UAAU,KAAV,EAAiB,KAAjB,EAAwB,EAAxB,EAA4B;AACnD,8BAAsB,UAAU,QAAhC,EAA0C,KAA1C,EAAiD,EAAjD;AACH,KAFD,EAEG,QAFH;AAGH;;AAGD,SAAS,QAAT,CAAkB,MAAlB,EAAyB,IAAzB,EAA8B,QAA9B,EAAuC;AACnC,QAAI,SAAS,OAAO,MAApB;AAAA,QACI,SAAS,EADb;AAAA,QAEI,SAAS,KAFb;AAAA,QAGI,YAAY,CAHhB;AAIA,QAAG,UAAU,CAAb,EAAe;AACX,eAAO,SAAS,IAAT,EAAc,MAAd,CAAP;AACH;;AAED,aAAS,IAAT,CAAc,KAAd,EAAoB,KAApB,EAA0B,SAA1B,EAAoC;;AAEhC,YAAG,KAAH,EAAS;AACL,qBAAS,IAAT;AACA,mBAAO,SAAS,KAAT,EAAe,IAAf,CAAP;AACH,SAHD,MAII;AACA,mBAAO,KAAP,IAAgB,SAAhB;AACA,gBAAG,EAAE,SAAF,IAAe,MAAlB,EAAyB;AACrB,yBAAS,IAAT;AACH;AACD,gBAAG,MAAH,EAAU;AACN,uBAAO,SAAS,KAAT,EAAe,MAAf,CAAP;AACH;AACJ;AACJ;;AAGD,WAAO,GAAP,CAAW,UAAS,KAAT,EAAe,KAAf,EAAqB;AAC5B,aAAK,KAAL,EAAW,KAAX,EAAiB,UAAS,KAAT,EAAe,SAAf,EAAyB;AACtC,iBAAK,KAAL,EAAW,KAAX,EAAiB,SAAjB;AACH,SAFD;AAGH,KAJD;AAMH;;AAED,eAAe,aAAf","file":"getComponents-compiled.js","sourcesContent":["\nfunction getComponentsForRoute(location,route,cb){\n    if(route.getComponent){\n        route.getComponent(location,cb);\n    }\n    else{\n        cb(true,null);\n    }\n}\n\nfunction getComponents(nextState, callback) {\n    mapAsync(nextState.routes, function (route, index, cb) {\n        getComponentsForRoute(nextState.location, route, cb);\n    }, callback);\n}\n\n\nfunction mapAsync(routes,work,callback){\n    var length = routes.length,\n        values = [],\n        isDone = false,\n        doneCount = 0;\n    if(length == 0){\n        return callback(null,values);\n    }\n\n    function done(error,index,component){\n\n        if(error){\n            isDone = true;\n            return callback(error,null);\n        }\n        else{\n            values[index] = component;\n            if(++doneCount == length){\n                isDone = true;\n            }\n            if(isDone){\n                return callback(error,values);\n            }\n        }\n    }\n\n\n    routes.map(function(route,index){\n        work(route,index,function(error,component){\n            done(error,index,component);\n        })\n    })\n\n}\n\nexport default getComponents"]}