{"version":3,"sources":["createHistory.js"],"names":[],"mappings":"AAAA,SAAS,aAAT,GAAyB;AACrB,QAAI,UAAU,UAAU,MAAV,IAAoB,CAApB,IAAyB,UAAU,CAAV,MAAiB,SAA1C,GAAsD,EAAtD,GAA2D,UAAU,CAAV,CAAzE;AACA,QAAI,qBAAqB,QAAQ,kBAAjC;AACA,QAAI,kBAAkB,EAAtB;AACA,QAAI,WAAW,SAAf;AACA,aAAS,cAAT,CAAwB,WAAxB,EAAqC;AACjC,mBAAW,WAAX;AACA,wBAAgB,OAAhB,CAAwB,UAAU,QAAV,EAAoB;AACxC,qBAAS,QAAT;AACH,SAFD;AAGH;AACD,aAAS,YAAT,CAAsB,YAAtB,EAAoC;AAChC,uBAAe,YAAf;AACH;AACD,aAAS,MAAT,CAAgB,QAAhB,EAA0B;AACtB,wBAAgB,IAAhB,CAAqB,QAArB;AACC,YAAI,YAAY,oBAAhB;AACA,uBAAe,SAAf;AACD,eAAO,YAAY;AACf,8BAAkB,gBAAgB,MAAhB,CAAuB,UAAU,IAAV,EAAgB;AACrD,uBAAO,SAAS,QAAhB;AACH,aAFiB,CAAlB;AAGH,SAJD;AAKH;AACD,WAAO;AACH,gBAAQ,MADL;AAEH,sBAAa;AAFV,KAAP;AAIH;;AAED,eAAe,aAAf","file":"createHistory-compiled.js","sourcesContent":["function createHistory() {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var getCurrentLocation = options.getCurrentLocation;\n    var changeListeners = []\n    var location = undefined;\n    function updateLocation(newLocation) {\n        location = newLocation;\n        changeListeners.forEach(function (listener) {\n            listener(location);\n        });\n    }\n    function transitionTo(nextLocation) {\n        updateLocation(nextLocation)\n    }\n    function listen(listener) {\n        changeListeners.push(listener);\n         var _location = getCurrentLocation();\n         updateLocation(_location);\n        return function () {\n            changeListeners = changeListeners.filter(function (item) {\n                return item !== listener;\n            });\n        };\n    }\n    return {\n        listen: listen,\n        transitionTo:transitionTo\n    };\n}\n\nexport default createHistory\n"]}