{"version":3,"sources":["useRoutes.js"],"names":[],"mappings":"AAAA,OAAO,aAAP,MAA2B,iBAA3B;AACA,SAAS,SAAT,CAAmB,aAAnB,EAAkC;AAC9B,WAAO,YAAU;AACb,YAAI,UAAU,UAAU,MAAV,IAAoB,CAApB,IAAyB,UAAU,CAAV,MAAiB,SAA1C,GAAsD,EAAtD,GAA2D,UAAU,CAAV,CAAzE;AACA,YAAI,SAAS,QAAQ,MAArB;AACA,YAAI,UAAU,eAAd;AACA,YAAI,QAAQ,EAAZ;AACA,iBAAS,KAAT,CAAe,QAAf,EAAwB,EAAxB,EAA2B;AACvB;AACA,gBAAI,YAAY,OAAO,MAAP,CAAe,KAAD,IAAS;AACnC,uBAAO,MAAM,IAAN,IAAc,SAAS,IAAvB,GAA4B,IAA5B,GAAiC,KAAxC;AACH,aAFe,CAAhB;AAGA,eAAG,IAAH,EAAQ,IAAR,EAAa,EAAC,QAAO,SAAR,EAAb;AACH;AACD,iBAAS,MAAT,CAAgB,QAAhB,EAA0B;;AAEtB,mBAAO,QAAQ,MAAR,CAAe,UAAU,QAAV,EAAoB;AACtC,oBAAI,MAAM,QAAN,KAAmB,QAAvB,EAAiC;AAC7B,6BAAS,IAAT,EAAe,KAAf;AACH,iBAFD,MAEO;AACH,0BAAM,QAAN,EAAgB,UAAU,KAAV,EAAiB,gBAAjB,EAAmC,SAAnC,EAA8C;AAC1D,sCAAc,SAAd,EAAwB,UAAS,GAAT,EAAa,SAAb,EAAuB;AAC3C,qCAAS,IAAT,EAAe,SAAf;AACH,yBAFD;AAGH,qBAJD;AAKH;AACJ,aAVM,CAAP;AAWH;;AAED,eAAO,OAAO,MAAP,CAAc,EAAd,EAAkB,OAAlB,EAA2B;AAC9B,mBAAO,KADuB;AAE9B,oBAAQ;AAFsB,SAA3B,CAAP;AAIH,KA/BD;AAgCH;;AAED,eAAe,SAAf","file":"useRoutes-compiled.js","sourcesContent":["import getComponents from  './getComponents'\nfunction useRoutes(createHistory) {\n    return function(){\n        var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n        var routes = options.routes;\n        var history = createHistory();\n        var state = {};\n        function match(location,cb){\n            //location和routes匹配\n            let nextRoute = routes.filter((route)=>{\n                return route.path == location.path?true:false;\n            })\n            cb(null,null,{routes:nextRoute});\n        }\n        function listen(listener) {\n\n            return history.listen(function (location) {\n                if (state.location === location) {\n                    listener(null, state);\n                } else {\n                    match(location, function (error, redirectLocation, nextState) {\n                        getComponents(nextState,function(err,component){\n                            listener(null, component);\n                        })\n                    });\n                }\n            });\n        }\n\n        return Object.assign({}, history, {\n            match: match,\n            listen: listen\n        });\n    }\n}\n\nexport default useRoutes;"]}