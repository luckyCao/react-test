{"version":3,"sources":["serialize.js"],"names":[],"mappings":"AAAA;AACA;AACA,OAAO,IAAK,KAAI,UAAS,IAAT,EAAc,EAAd,EAAiB;AAC7B,eAAW,YAAU;AACjB,gBAAQ,GAAR,CAAY,IAAZ;AACA,WAAG,EAAC,IAAG,IAAJ,EAAH;AACH,KAHD,EAGE,IAHF;AAIH,CALM;;AAOP,OAAO,IAAI,KAAK,UAAS,IAAT,EAAc,EAAd,EAAiB;AACzB,eAAW,YAAU;AACjB,gBAAQ,GAAR,CAAY,IAAZ;AACA,WAAG,EAAC,IAAG,IAAJ,EAAH;AACH,KAHD,EAGE,IAHF;AAIP,CALM;AAMP,OAAO,IAAK,KAAI,UAAS,IAAT,EAAc,EAAd,EAAiB;AAC7B,eAAW,YAAU;AACjB,gBAAQ,GAAR,CAAY,IAAZ;AACA,WAAG,EAAC,IAAG,IAAJ,EAAH;AACH,KAHD,EAGE,IAHF;AAIH,CALM;;AAOP,OAAO,IAAI,KAAK,UAAS,IAAT,EAAc,EAAd,EAAiB;AAC7B,eAAW,YAAU;AACjB,gBAAQ,GAAR,CAAY,IAAZ;AACA,WAAG,EAAC,IAAG,IAAJ,EAAH;AACH,KAHD,EAGE,IAHF;AAIH,CALM;;AAOP,IAAI,MAAM,CAAC,EAAD,EAAI,EAAJ,EAAO,EAAP,EAAU,EAAV,CAAV;;AAEA,OAAO,IAAK,YAAY,UAAS,GAAT,EAAa;AACjC,QAAI,MAAM,IAAI,MAAd;AACA,QAAI,IAAI,CAAR;AACA,KAAC,SAAS,KAAT,CAAe,MAAf,EAAsB;AACnB,YAAG,KAAG,GAAN,EAAU;AACN;AACH;AACD,YAAI,MAAM,IAAI,GAAJ,CAAV;AACA,YAAI,MAAJ,EAAW,KAAX;AACH,KAND;AAOH,CAVM;;AAYP,OAAO,IAAI,WAAW,UAAS,GAAT,EAAa,EAAb,EAAgB;AAClC,QAAI,MAAM,IAAI,MAAd;AACA,QAAI,IAAI,CAAR;AACA,QAAI,SAAS,EAAb;AACA,SAAI,IAAI,IAAE,CAAV,EAAY,IAAE,GAAd,EAAkB,GAAlB,EAAsB;AAClB,YAAI,MAAO,IAAI,CAAJ,CAAX;AACA,YAAI,KAAJ,CAAU,GAAV,EAAc,CAAC,IAAD,EAAM,KAAN,CAAd;AACH;;AAED,aAAS,KAAT,CAAe,IAAf,EAAoB;AAChB,eAAO,MAAP,EAAc,IAAd;AACA;AACA,YAAG,KAAG,GAAN,EAAU;AACN,eAAG,MAAH;AACH;AACJ;AACJ,CAhBM;;AAkBP,SAAS,MAAT,CAAgB,EAAhB,EAAoB,IAApB,EAA0B;AACtB,QAAI,CAAC,IAAL,EAAW;AACP,eAAO,EAAP;AACH;AACD,QAAI,OAAO,OAAO,IAAP,CAAY,IAAZ,CAAX;AACA,QAAI,IAAI,KAAK,MAAb;AACA,WAAO,GAAP,EAAY;AACR,YAAI,KAAK,KAAK,CAAL,CAAL,MAAkB,SAAtB,EAAiC;AAC7B,eAAG,KAAK,CAAL,CAAH,IAAc,KAAK,KAAK,CAAL,CAAL,CAAd;AACH;AACJ;AACD,WAAO,EAAP;AACH","file":"serialize-compiled.js","sourcesContent":["//四个函数 f1 f2 f3 f4\n//如何在f1执行返回后执行f2 f2返回后执行f3 ..\nexport let  f1= function(data,cb){\n    setTimeout(function(){\n        console.log('f1');\n        cb({f1:'f1'});\n    },4000)\n}\n\nexport let f2 = function(data,cb){\n        setTimeout(function(){\n            console.log(data);\n            cb({f2:'f2'});\n        },3000)\n}\nexport let  f3= function(data,cb){\n    setTimeout(function(){\n        console.log(data);\n        cb({f3:'f3'});\n    },2000)\n}\n\nexport let f4 = function(data,cb){\n    setTimeout(function(){\n        console.log(data);\n        cb({f4:'f4'});\n    },1000)\n}\n\nvar arr = [f1,f2,f3,f4];\n\nexport let  serialize = function(arr){\n    var len = arr.length;\n    var i = 0;\n    (function inner(params){\n        if(i==len){\n            return ;\n        }\n        var fun = arr[i++];\n        fun(params,inner)\n    })()\n}\n\nexport let parallel = function(arr,cb){\n    var len = arr.length;\n    var i = 0;\n    var params = {};\n    for(var j=0;j<len;j++){\n        var fun =  arr[j];\n        fun.apply(fun,[null,inner]);\n    }\n\n    function inner(data){\n        extend(params,data);\n        i++;\n        if(i==len){\n            cb(params);\n        }\n    }\n}\n\nfunction extend(to, from) {\n    if (!from) {\n        return to;\n    }\n    var keys = Object.keys(from);\n    var i = keys.length;\n    while (i--) {\n        if (from[keys[i]] !== undefined) {\n            to[keys[i]] = from[keys[i]];\n        }\n    }\n    return to;\n}\n\n\n\n"]}